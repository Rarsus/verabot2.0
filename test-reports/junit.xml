<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="VeraBot2.0 Test Suite" tests="16" failures="0" errors="0" time="0.645">
  <testsuite name="GuildDatabaseManager._runMigrations()" errors="0" failures="0" skipped="0" timestamp="2026-01-15T19:16:25" time="0.599" tests="16">
    <testcase classname="GuildDatabaseManager._runMigrations() › happy path" name="should add opted_in column when missing" time="0.071">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › happy path" name="should add preferences column when missing" time="0.005">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › happy path" name="should add both columns in a single migration run" time="0.004">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › happy path" name="should set opted_in default value to 0" time="0.005">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › happy path" name="should set preferences default value to empty JSON" time="0.004">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › idempotent behavior" name="should not fail when columns already exist" time="0.004">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › idempotent behavior" name="should handle running migration twice" time="0.004">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › idempotent behavior" name="should handle partial column existence (opted_in exists, preferences missing)" time="0.004">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › error handling" name="should not throw error if table does not exist" time="0.017">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › error handling" name="should handle database query errors gracefully" time="0.021">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › data preservation" name="should preserve existing data when adding columns" time="0.005">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › data preservation" name="should set default values for migrated columns on existing rows" time="0.004">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › integration with GuildDatabaseManager lifecycle" name="should work with _runAsync helper method" time="0.002">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › integration with GuildDatabaseManager lifecycle" name="should complete without hanging or blocking" time="0.004">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › column properties" name="opted_in column should have correct type and default" time="0.004">
    </testcase>
    <testcase classname="GuildDatabaseManager._runMigrations() › column properties" name="preferences column should have correct type and default" time="0.004">
    </testcase>
  </testsuite>
</testsuites>